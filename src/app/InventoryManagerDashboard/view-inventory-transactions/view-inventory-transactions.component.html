<div class="bg-white rounded-xl shadow-2xl p-8">
  <h2 class="text-3xl font-bold text-gray-800 mb-6">
    All Inventory Transactions
  </h2>

  <div *ngIf="transactions.length === 0" class="text-gray-500">
    No transactions found.
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full text-sm text-gray-800">
      <thead class="bg-gray-100 text-gray-600 uppercase text-xs tracking-wide">
        <tr>
          <th class="text-left px-6 py-3">#</th>
          <th class="text-left px-6 py-3">User ID</th>
          <th class="text-left px-6 py-3">Transaction Type</th>
          <th class="text-left px-6 py-3">Quantity</th>
          <th class="text-left px-6 py-3">Reference</th>
          <th class="text-left px-6 py-3">Date</th>
          <th class="text-left px-6 py-3">Products</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let tx of transactions; index as i"
          [ngClass]="{
            'bg-green-50': tx.transactionType === 'IN',
            'bg-red-50': tx.transactionType === 'OUT',
            'bg-blue-50':
              tx.transactionType !== 'IN' && tx.transactionType !== 'OUT'
          }"
          class="transition duration-200 hover:bg-opacity-80"
        >
          <td class="px-6 py-4 font-medium">{{ i + 1 }}</td>
          <td class="px-6 py-4">{{ tx.userId }}</td>
          <td class="px-6 py-4">
            <span
              class="inline-block px-3 py-1 rounded-full text-xs font-semibold"
              [ngClass]="{
                'bg-green-200 text-green-900': tx.transactionType === 'IN',
                'bg-red-200 text-red-900': tx.transactionType === 'OUT',
                'bg-blue-200 text-blue-900':
                  tx.transactionType !== 'IN' && tx.transactionType !== 'OUT'
              }"
            >
              {{ tx.transactionType }}
            </span>
          </td>
          <td class="px-6 py-4">{{ tx.quantity }}</td>
          <td class="px-6 py-4">{{ tx.reference }}</td>
          <td class="px-6 py-4">{{ tx.transactionDate }}</td>
          <td class="px-6 py-4">
            <div
              class="bg-gray-50 rounded-md p-2 shadow-inner overflow-x-auto max-h-28"
              style="overflow-y: auto"
            >
              <div class="flex flex-wrap gap-2">
                <div
                  *ngFor="let p of tx.products; index as i"
                  [ngClass]="getRandomColor(i)"
                  class="px-3 py-1 text-xs font-medium rounded-full shadow-sm"
                >
                  {{ p.productName || "N/A" }}
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
